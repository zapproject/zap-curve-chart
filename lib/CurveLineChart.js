!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("chart.js"),require("bignumber.js")):"function"==typeof define&&define.amd?define("ZapCurveChart",["chart.js","bignumber.js"],e):"object"==typeof exports?exports.ZapCurveChart=e(require("chart.js"),require("bignumber.js")):t.ZapCurveChart=e(t.Chart,t.BigNumber)}(window,function(t,e){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=11)}([function(t,e,i){"use strict";function r(t,e){return Math.round((t+e)/2)}Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=function(t,e){var i=[];if(t<=e){for(var o=1;o<=t;o++)i.push(o);return i}var n=t/(e-2);i.push(1),i.push(r(1,n)),o=n;for(var s=t-n;o<s;)i.push(r(o,o+=n));return i.push(r(t-n,t)),i.push(t),i},e.average=r,e.formatPrice=function(t){return t>=1e16?Math.round(t/1e15)/1e3+"":t>=1e6?Math.round(t/1e6)/1e3+" gwei":t+" wei"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(3);e.Curve=class{constructor(t=[]){this.max=0,this.values=t,this.checkValidity()}checkValidity(){for(var t=1,e=0;e<this.values.length;){var i=this.values[e];if(i<=0)throw"Invalid curve length";var r=e+i+1;if(r>=this.values.length)throw"Piece is out of bounds";var o=this.values[r];if(o<=t)throw"Piece domains are overlapping";t=o,e+=i+2}this.max=t}getPrice(t){if(t<=0||t>this.max)throw"Invalid curve supply position";if(!this.values)throw"Curve is not initialized";for(var e=0;e<this.values.length;){var i=this.values[e];if(!(t>this.values[e+i+1])){for(var r=0,o=0;o<i;o++)r+=this.values[e+o+1]*Math.pow(t,o);return r}e+=i+2}return-1}getZapRequired(t,e){for(var i=0,r=t;r<t+e;r++)i+=this.getPrice(r);return i}convertToBNArrays(){return this.values.map(t=>new r.BigNumber(t))}valuesToString(){return this.values.map(t=>""+t)}}},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o=i(1),n=i(0),s=function(){function t(t,e,i,r){void 0===e&&(e={height:150,width:300}),void 0===i&&(i={}),void 0===r&&(r={}),this.ctxOptions={shadowColor:"#07c",shadowBlur:10,shadowRadius:10,shadowOffsetX:0,shadowOffsetY:0},this.lineOptions={fill:!0,fillOpacity:1,pointStyle:"circle",borderColor:"rgba(0,120,254,0.75)",backgroundColor:"rgba(0,120,254,0.5)",lineTension:.1,borderWidth:2,pointBackgroundColor:"rgba(0,120,254,1)",pointBorderColor:"rgba(0,120,254,1)",pointRadius:0,currentPointRadius:5,pointBorderWidth:0,currentPointBorderWidth:3,currentPointBackgroundColor:void 0,currentPointBorderColor:void 0},this.chart=null,this.chartDatasets=[],this.chartLabels=[],this.canvas=null,this.maxDots=e.maxDots||300,this.canvas=document.createElement("canvas"),e.hasOwnProperty("height")&&(this.canvas.style.height=e.height+"px"),e.hasOwnProperty("width")&&(this.canvas.style.width=e.width+"px"),this.ctxOptions=Object.assign(this.ctxOptions,r),this.lineOptions=Object.assign(this.lineOptions,i),t.appendChild(this.canvas)}return t.prototype.destroy=function(){this.chart&&this.chart.destroy()},t.prototype.getDataset=function(t){var e=new o.Curve(t);return n.reduce(e.max,this.maxDots).map(function(t){return{x:t,y:e.getPrice(t)/1e18}})},t.prototype.updateWidth=function(t){this.canvas.style.width=t+"px",this.maxDots=t},t.prototype.draw=function(t,e){var i=this;void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.getDataset(t);this.chartLabels=r.map(function(t){return t.x});var o={pointRadius:[],pointBorderWidth:[]};r.forEach(function(t,n){var s=!!r[n-1]&&r[n-1].x<e&&t.x>=e;o.pointRadius.push(s?i.lineOptions.currentPointRadius:i.lineOptions.pointRadius),o.pointBorderWidth.push(s?i.lineOptions.currentPointBorderWidth:i.lineOptions.pointBorderWidth)}),this.chartDatasets=[{label:"",data:r.map(function(t){return t.y}),fill:this.lineOptions.fill,fillOpacity:this.lineOptions.fillOpacity,pointBackgroundColor:this.lineOptions.pointBackgroundColor,pointBorderColor:this.lineOptions.pointBorderColor,pointStyle:this.lineOptions.pointStyle,borderColor:this.lineOptions.borderColor,backgroundColor:this.lineOptions.backgroundColor,lineTension:this.lineOptions.lineTension,pointRadius:o.pointRadius,pointBorderWidth:o.pointBorderWidth,borderWidth:this.lineOptions.borderWidth}],this.chart||this.renderChart(),this.updateChart()},t.prototype.initContext=function(){var t=this.ctxOptions,e=r.controllers.line.prototype.initialize;return r.controllers.line.prototype.initialize=function(){e.apply(this,arguments);var i=this.chart.chart.ctx,r=i.stroke;i.stroke=function(){i.save(),i.shadowColor=t.shadowColor,i.shadowBlur=t.shadowBlur,i.shadowRadius=t.shadowRadius,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,r.apply(this,arguments),i.restore()}},function(){r.controllers.line.prototype.initialize=e}},t.prototype.renderChart=function(){this.chart&&this.chart.destroy(),this.chart=new r(this.canvas.getContext("2d"),{type:"line",options:{elements:{line:{tension:0}},animation:{duration:0},layout:{padding:{top:7,bottom:0,left:-10}},responsive:!1,maintainAspectRatio:!1,tooltips:{enabled:!0,intersect:!1,mode:"index"},legend:{display:!1},scales:{xAxes:[{ticks:{display:!1,minRotation:0,padding:5},gridLines:{drawBorder:!1,zeroLineWidth:0,display:!1,drawTicks:!1},scaleLabel:{display:!1,labelString:"Dot number"}}],yAxes:[{ticks:{display:!1,beginAtZero:!0},gridLines:{drawBorder:!1,zeroLineWidth:0,display:!1,drawTicks:!0},scaleLabel:{display:!1,labelString:"Dot price"}}]}},data:{datasets:[],labels:[]}})},t.prototype.updateChart=function(){if(this.chart){this.chart.data.datasets=this.chartDatasets,this.chart.data.labels=this.chartLabels;var t=2*Math.max.apply(null,this.chartDatasets[0].data);this.chart.options.scales.yAxes[0].ticks.max=t;var e=Math.min.apply(null,this.chartLabels);this.chart.options.scales.xAxes[0].ticks.min=e;var i=this.initContext();this.chart.update(),i()}},t}();e.CurveLineChart=s},,,,,,,function(t,e,i){t.exports=i(4)}])});